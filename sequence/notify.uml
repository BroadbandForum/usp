@startuml

title Notification

hide footbox

participant "Controller 1" as C1
participant "Controller 2" as C2
participant Agent as A
participant Monitor as W

C1 -> A : Subscribe
activate A #darksalmon
A -> W : <<start>>
activate W
A -> C1 : Response
deactivate A

C2 -> A : Subscribe
activate A #darksalmon
A -> C2 : Response
deactivate A

W -> A : <<event>>
activate A
A -> C1 : Notify
C1 -> A : ACK?
A -> C2 : Notify
C2 -> A : ACK?
deactivate A

C1 -> A : Unsubscribe
activate A #darksalmon
A -> C1 : Response
deactivate A

W -> A : <<event>>
activate A
A -> C2 : Notify
C2 -> A : ACK?
deactivate A

C2 -> A : Unsubscribe
activate A #darksalmon
A -> W : <<stop>>
deactivate W
A -> C2 : Response
deactivate A

@enduml
