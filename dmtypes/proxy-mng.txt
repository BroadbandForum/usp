@startuml

' SD-279 proxy management illustrated

!define COLLAPSE

hide empty fields
hide empty methods

' aggregation: whole   o--  part (part poss shared; poss diff lifetimes)
' composition: whole   *--  part (part owned; same lifetimes)
' extension:   derived --|> base (or right to left)

' number of hyphens controls arrow length
' dots rather than hyphens create dotted arrows
' can also add < or > to agg/comp arrows to indicate navigability

' including the role in the cardinality is a local convention; PlantUML doesn't
' support association roles (and luckily doesn't parse cardinality)

class Service {
}

class TemperatureSensor {
}
TemperatureSensor --|> Service

class Host {
}

class EmbeddedDevice {
}
EmbeddedDevice "0..1" o--> "*" Host

class Operation {
}

class RebootOperation {
}
RebootOperation --|> Operation

class DownloadOperation {
}
DownloadOperation --|> Operation

!ifdef COLLAPSE

EmbeddedDevice "0..1" o--> "*" Service
EmbeddedDevice "1" *--> "*" Operation

!else

EmbeddedDevice "0..1" o--> "1" Service

class ProxiedDevice {
}
ProxiedDevice --|> Service
ProxiedDevice "0..1" o--> "*" EmbeddedDevice
ProxiedDevice "1" *--> "*" Operation
ProxiedDevice "0..1" o--> "*" Host

!endif

@enduml
