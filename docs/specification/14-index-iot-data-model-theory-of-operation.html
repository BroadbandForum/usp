<!DOCTYPE html>
<!-- BBF GitHub Pages pandoc template; modified from default.html template -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8"/>
  <meta name="generator" content="pandoc"/>
  <meta name="description" content="TR-369a2 – User Services Platform (USP): A standardized protocol to manage, monitor, update, and control connected devices, IoT endpoints, user services and home networks"/>
  <meta name="theme-color" content="#157878"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/>
  <title>BBF – Appendix V: IoT Data Model Theory of Operation</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="github.css"/>
  <link rel="stylesheet" href="extra.css"/>
  <link rel="stylesheet" href="toc.css"/>
  <link rel="stylesheet" href="release.css"/>
  <link rel="stylesheet" href="local.css"/>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <!-- XXX header includes are included just before the ToC (below) -->
</head>

<body>
  <section class="page-header">
    <h1 class="project-name">
      <a href="../index.html" style="text-decoration: none; color: white;">
        <img src="bbflogo-reverse-dark.png"/><br>
        The User Services Platform
      </a>
    </h1>
    <h2 class="project-tagline">A standardized protocol to manage, monitor, update, and control connected devices, IoT endpoints, user services and home networks</h2>
    <p></p>
    <p></p>
    <div class="project-buttons">
      <a class="btn" href="../specification/index.html" title="USP Specification">Specification</a>
      <a class="btn" href="../specification/index.htm" title="USP Specification Single-file HTML">HTML</a>
      <a class="btn" href="../specification/index.pdf" title="USP Specification PDF">PDF</a>
      <a class="btn" href="https://usp-data-models.broadband-forum.org" title="USP Data Models">Data Models</a>
      <a class="btn" href="https://usp-test.broadband-forum.org" title="USP Test Plan">Test Plan</a>
      <a class="btn" href="../resources/01-index-usp-development-resources.html" title="USP Development Resources">Resources</a>
      <a class="btn" href="../faq/01-index-faq.html" title="USP Frequently Asked Questions">FAQ</a>
    </div>
  </section>

  <section class="main-content">
<nav>
<p>
   <a href="00-index-contents.html#contents">Cover Page</a>
 | <a href="01-index-introduction.html#sec:introduction">1 Introduction</a>
 | <a href="02-index-architecture.html#sec:architecture">2 Architecture</a>
 | <a href="03-index-discovery.html#sec:discovery">3 Discovery and Advertisement</a>
 | <a href="04-index-mtp.html#sec:mtp">4 Message Transfer Protocols</a>
 | <a href="05-index-encoding.html#sec:encoding">5 Message Encoding</a>
 | <a href="06-index-e2e-message-exchange.html#sec:e2e-message-exchange">6 End to End Message Exchange</a>
 | <a href="07-index-messages.html#sec:messages">7 Messages</a>
 | <a href="08-index-auth.html#sec:auth">8 Authentication and Authorization</a>
 | <a href="09-index-bulk-data-collection.html#sec:bulk-data-collection">Annex A: Bulk Data Collection</a>
 | <a href="10-index-software-module-management.html#sec:software-module-management">Appendix I: Software Module Management</a>
 | <a href="11-index-firmware-management-of-devices-with-usp-agents.html#sec:firmware-management-of-devices-with-usp-agents">Appendix II: Firmware Management of Devices with USP Agents</a>
 | <a href="12-index-device-proxy.html#sec:device-proxy">Appendix III: Device Proxy</a>
 | <a href="13-index-proxying.html#sec:proxying">Appendix IV: Proxying</a>
 | <a href="14-index-iot-data-model-theory-of-operation.html#sec:iot-data-model-theory-of-operation">Appendix V: IoT Data Model Theory of Operation</a>
 | <a href="99-index-footnotes.html#footnotes">Footnotes</a>
</p>
</nav>

<nav id="TOCFULL">
<ul>
  <li><a href="00-index-contents.html#contents">Cover Page</a></li>
  <li><a href="01-index-introduction.html#sec:introduction">1 Introduction</a></li>
  <ul>
    <li><a href="01-index-introduction.html#sec:executive-summary">1.1 Executive Summary</a></li>
    <li><a href="01-index-introduction.html#sec:purpose-and-scope">1.2 Purpose and Scope</a></li>
    <li><a href="01-index-introduction.html#sec:references-and-terminology">1.3 References and Terminology</a></li>
    <li><a href="01-index-introduction.html#sec:definitions">1.4 Definitions</a></li>
    <li><a href="01-index-introduction.html#sec:abbreviations">1.5 Abbreviations</a></li>
    <li><a href="01-index-introduction.html#sec:specification-impact">1.6 Specification Impact</a></li>
  </ul>
  <li><a href="02-index-architecture.html#sec:architecture">2 Architecture</a></li>
  <ul>
    <li><a href="02-index-architecture.html#sec:endpoints">2.1 Endpoints</a></li>
    <li><a href="02-index-architecture.html#sec:endpoint-identifier">2.2 Endpoint Identifier</a></li>
    <li><a href="02-index-architecture.html#sec:service-elements">2.3 Service Elements</a></li>
    <li><a href="02-index-architecture.html#sec:data-models">2.4 Data Models</a></li>
    <li><a href="02-index-architecture.html#sec:path-names">2.5 Path Names</a></li>
    <li><a href="02-index-architecture.html#sec:other-path-decorators">2.6 Other Path Decorators</a></li>
    <li><a href="02-index-architecture.html#sec:data-model-path-grammar">2.7 Data Model Path Grammar</a></li>
  </ul>
  <li><a href="03-index-discovery.html#sec:discovery">3 Discovery and Advertisement</a></li>
  <ul>
    <li><a href="03-index-discovery.html#sec:controller-information">3.1 Controller Information</a></li>
    <li><a href="03-index-discovery.html#sec:required-agent-information">3.2 Required Agent Information</a></li>
    <li><a href="03-index-discovery.html#sec:using-dhcp">3.3 Use of DHCP for Acquiring Controller Information</a></li>
    <li><a href="03-index-discovery.html#sec:using-mdns">3.4 Using mDNS</a></li>
    <li><a href="03-index-discovery.html#sec:using-dns">3.5 Using DNS</a></li>
    <li><a href="03-index-discovery.html#sec:dns-sd-records">3.6 DNS-SD Records</a></li>
    <li><a href="03-index-discovery.html#sec:using-the-sendonboardrequest-operation-and-onboardrequest-notification">3.7 Using the SendOnBoardRequest() operation and OnBoardRequest notification</a></li>
  </ul>
  <li><a href="04-index-mtp.html#sec:mtp">4 Message Transfer Protocols</a></li>
  <ul>
    <li><a href="04-index-mtp.html#sec:generic-requirements">4.1 Generic Requirements</a></li>
    <li><a href="04-index-mtp.html#sec:coap-binding-deprecated">4.2 CoAP Binding (DEPRECATED)</a></li>
    <li><a href="04-index-mtp.html#sec:websocket">4.3 WebSocket Binding</a></li>
    <li><a href="04-index-mtp.html#sec:stomp-binding">4.4 STOMP Binding</a></li>
    <li><a href="04-index-mtp.html#sec:mqtt-binding">4.5 MQTT Binding</a></li>
  </ul>
  <li><a href="05-index-encoding.html#sec:encoding">5 Message Encoding</a></li>
  <ul>
    <li><a href="05-index-encoding.html#sec:parameter-value-encoding">5.1 Parameter and Argument Value Encoding</a></li>
  </ul>
  <li><a href="06-index-e2e-message-exchange.html#sec:e2e-message-exchange">6 End to End Message Exchange</a></li>
  <ul>
    <li><a href="06-index-e2e-message-exchange.html#sec:exchange-of-usp-records-within-an-e2e-session-context">6.1 Exchange of USP Records within an E2E Session Context</a></li>
    <li><a href="06-index-e2e-message-exchange.html#sec:exchange-of-usp-records-without-an-e2e-session-context">6.2 Exchange of USP Records without an E2E Session Context</a></li>
    <li><a href="06-index-e2e-message-exchange.html#sec:validating-the-integrity-of-the-usp-record">6.3 Validating the Integrity of the USP Record</a></li>
    <li><a href="06-index-e2e-message-exchange.html#sec:secure-message-exchange">6.4 Secure Message Exchange</a></li>
  </ul>
  <li><a href="07-index-messages.html#sec:messages">7 Messages</a></li>
  <ul>
    <li><a href="07-index-messages.html#sec:encapsulation-in-a-usp-record">7.1 Encapsulation in a USP Record</a></li>
    <li><a href="07-index-messages.html#sec:requests-responses-and-errors">7.2 Requests, Responses and Errors</a></li>
    <li><a href="07-index-messages.html#sec:message-structure">7.3 Message Structure</a></li>
    <li><a href="07-index-messages.html#sec:creating-updating-and-deleting-objects">7.4 Creating, Updating, and Deleting Objects</a></li>
    <li><a href="07-index-messages.html#sec:reading-an-agents-state-and-capabilities">7.5 Reading an Agent’s State and Capabilities</a></li>
    <li><a href="07-index-messages.html#sec:notifications-and-subscriptions">7.6 Notifications and Subscription Mechanism</a></li>
    <li><a href="07-index-messages.html#sec:defined-operations-mechanism">7.7 Defined Operations Mechanism</a></li>
    <li><a href="07-index-messages.html#sec:error-codes">7.8 Error Codes</a></li>
  </ul>
  <li><a href="08-index-auth.html#sec:auth">8 Authentication and Authorization</a></li>
  <ul>
    <li><a href="08-index-auth.html#sec:authentication-1">8.1 Authentication</a></li>
    <li><a href="08-index-auth.html#sec:role-based-access-control-rbac">8.2 Role Based Access Control (RBAC)</a></li>
    <li><a href="08-index-auth.html#sec:trusted-certificate-authorities">8.3 Trusted Certificate Authorities</a></li>
    <li><a href="08-index-auth.html#sec:trusted-brokers">8.4 Trusted Brokers</a></li>
    <li><a href="08-index-auth.html#sec:self-signed-certificates">8.5 Self-Signed Certificates</a></li>
    <li><a href="08-index-auth.html#sec:agent-authentication">8.6 Agent Authentication</a></li>
    <li><a href="08-index-auth.html#sec:challenge-strings-and-images">8.7 Challenge Strings and Images</a></li>
    <li><a href="08-index-auth.html#sec:analysis-controller-certificates">8.8 Analysis of Controller Certificates</a></li>
    <li><a href="08-index-auth.html#sec:theory-of-operations">8.9 Theory of Operations</a></li>
  </ul>
  <li><a href="09-index-bulk-data-collection.html#sec:bulk-data-collection">Annex A: Bulk Data Collection</a></li>
  <ul>
    <li><a href="09-index-bulk-data-collection.html#sec:introduction-1">A.1 Introduction</a></li>
    <li><a href="09-index-bulk-data-collection.html#sec:http-bulk-data-collection">A.2 HTTP Bulk Data Collection</a></li>
    <li><a href="09-index-bulk-data-collection.html#sec:mqtt-bulk-data-collection">A.3 MQTT Bulk Data Collection</a></li>
    <li><a href="09-index-bulk-data-collection.html#sec:uspeventnotif-bulk-data-collection">A.4 USPEventNotif Bulk Data Collection</a></li>
    <li><a href="09-index-bulk-data-collection.html#sec:using-wildcards-to-reference-object-instances-in-the-report">A.5 Using Wildcards to Reference Object Instances in the Report</a></li>
    <li><a href="09-index-bulk-data-collection.html#sec:using-alternative-names-in-the-report">A.6 Using Alternative Names in the Report</a></li>
    <li><a href="09-index-bulk-data-collection.html#sec:encoding-of-bulk-data">A.7 Encoding of Bulk Data</a></li>
  </ul>
  <li><a href="10-index-software-module-management.html#sec:software-module-management">Appendix I: Software Module Management</a></li>
  <ul>
    <li><a href="10-index-software-module-management.html#sec:lifecycle-management">I.1 Lifecycle Management</a></li>
    <li><a href="10-index-software-module-management.html#sec:software-modules">I.2 Software Modules</a></li>
    <li><a href="10-index-software-module-management.html#sec:execution-environment-concepts">I.3 Execution Environment Concepts</a></li>
    <li><a href="10-index-software-module-management.html#sec:fault-model">I.4 Fault Model</a></li>
  </ul>
  <li><a href="11-index-firmware-management-of-devices-with-usp-agents.html#sec:firmware-management-of-devices-with-usp-agents">Appendix II: Firmware Management of Devices with USP Agents</a></li>
  <ul>
    <li><a href="11-index-firmware-management-of-devices-with-usp-agents.html#sec:getting-the-firmware-image-onto-the-device">II.1 Getting the firmware image onto the device</a></li>
    <li><a href="11-index-firmware-management-of-devices-with-usp-agents.html#sec:using-multiple-firmware-images">II.2 Using multiple firmware images</a></li>
  </ul>
  <li><a href="12-index-device-proxy.html#sec:device-proxy">Appendix III: Device Proxy</a></li>
  <li><a href="13-index-proxying.html#sec:proxying">Appendix IV: Proxying</a></li>
  <ul>
    <li><a href="13-index-proxying.html#sec:proxying-building-block-functions">IV.1 Proxying Building Block Functions</a></li>
    <li><a href="13-index-proxying.html#sec:discovery-proxy">IV.2 Discovery Proxy</a></li>
    <li><a href="13-index-proxying.html#sec:connectivity-proxy">IV.3 Connectivity Proxy</a></li>
    <li><a href="13-index-proxying.html#sec:message-transfer-protocol-mtp-proxy">IV.4 Message Transfer Protocol (MTP) Proxy</a></li>
    <li><a href="13-index-proxying.html#sec:usp-to-non-usp-proxy">IV.5 USP to Non-USP Proxy</a></li>
  </ul>
  <li><a href="14-index-iot-data-model-theory-of-operation.html#sec:iot-data-model-theory-of-operation">Appendix V: IoT Data Model Theory of Operation</a></li>
  <ul>
    <li><a href="14-index-iot-data-model-theory-of-operation.html#sec:introduction-2">V.1 Introduction</a></li>
    <li><a href="14-index-iot-data-model-theory-of-operation.html#sec:iot-data-model-overview">V.2 IoT data model overview</a></li>
    <li><a href="14-index-iot-data-model-theory-of-operation.html#sec:architecture-mappings">V.3 Architecture mappings</a></li>
    <li><a href="14-index-iot-data-model-theory-of-operation.html#sec:iot-data-model-object-details">V.4 IoT data model Object details</a></li>
    <li><a href="14-index-iot-data-model-theory-of-operation.html#sec:examples">V.5 Examples</a></li>
  </ul>
  <li><a href="99-index-footnotes.html#footnotes">Footnotes</a></li>
</ul>
</nav>

    <header id="title-block-header">
      <h1 class="title" id="sec:iot-data-model-theory-of-operation">Appendix V: IoT Data Model Theory of Operation<a href="#sec:iot-data-model-theory-of-operation" class="headerlink" title="Permalink to this header"> <img src="permalink.png" style="width: 0.8em"/></a></h1>
    </header>
    <nav id="_TOC" role="doc-toc">
<ul>
<li><a href="#sec:introduction-2">V.1 Introduction <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:iot-data-model-overview">V.2 IoT data model overview <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:architecture-mappings">V.3 Architecture mappings <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:iot-data-model-object-details">V.4 IoT data model Object details <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
<li><a href="#sec:examples">V.5 Examples <span><img src="permalink.png" style="width:0.8em" /></span></a></li>
</ul>
    </nav>
<h2 class="appendix2" id="sec:introduction-2">V.1 Introduction <a href="14-index-iot-data-model-theory-of-operation.html#sec:introduction-2" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<p>Since there are thousands of different Internet of Things (IoT) devices, the data model needs a flexible modular way to support them using generic building block templates. To achieve this, an IoT device is represented in the data model by sensor and control capabilities:</p>
<ul>
<li>Sensor capabilities, which allow reading a state, e.g. a temperature value, a battery level, a light color, etc.</li>
<li>Control capabilities, which allow changing a value, e.g. set a temperature, switch a light etc.</li>
</ul>
<p>The Device:2 Data Model <span class="cite" data-citation-ids="TR-181"><a href="01-index-introduction.html#ref-TR-181">[38]</a></span> defines capability Objects that reflect capabilities found on many different devices (example: BinaryControl). By using these Objects, a large ecosystem of devices can be described using a small set of capabilities (see table below).</p>
<h2 class="appendix2" id="sec:iot-data-model-overview">V.2 IoT data model overview <a href="14-index-iot-data-model-theory-of-operation.html#sec:iot-data-model-overview" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<p>The figure shows the overall structure of the IoT data model:</p>
<figure>
<img src="extensions/iot/./figure-73.png" id="fig:iot-data-model" alt="Figure 28: IoT Data Model " /><figcaption aria-hidden="true">Figure 28: IoT Data Model <a href="14-index-iot-data-model-theory-of-operation.html#fig:iot-data-model" class="headerlink" title="Permalink to this figure"><img src="permalink.png" style="width:0.8em" /></a></figcaption>
</figure>
<p>The data model defines an IoT Capability table, whose instances describe the IoT device’s exposed capabilities. The capability table can appear directly under the <code>Device.</code> Object (if the IoT device hosts a USP Agent) or under a <code>Device.ProxiedDevice.{i}.</code> or <code>Device.ProxiedDevice.{i}.Node.{i}.</code> instance.</p>
<h3 class="appendix3" id="sec:iot-capability-table">V.2.1 IoT Capability table <a href="14-index-iot-data-model-theory-of-operation.html#sec:iot-capability-table" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>A capability is represented in the <code>Device.IoTCapability.</code> table as a generic Object Instance with a specific class, and an instantiated Sub-Object depending on this class. The class name is defined by the Sub-Object name in a <code>Class</code> Parameter for each IoT Capability table entry, to allow the Controller to detect the instantiated Sub-Object.</p>
<p>Only one out of the following Sub-Objects can exist per instance:</p>
<table>
<thead>
<tr class="header header">
<th style="text-align: left;">Capability Sub-Object</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;"><code>BinaryControl</code></td>
<td style="text-align: left;">Allows setting a binary value (e.g. on or off)</td>
</tr>
<tr class="even even">
<td style="text-align: left;"><code>LevelControl</code></td>
<td style="text-align: left;">Allows setting a continuous value in a predefined range</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;"><code>EnumControl</code></td>
<td style="text-align: left;">Allows setting a value from a predefined set of values</td>
</tr>
<tr class="even even">
<td style="text-align: left;"><code>BinarySensor</code></td>
<td style="text-align: left;">Provides a binary reading value (true/false)</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;"><code>LevelSensor</code></td>
<td style="text-align: left;">Provides a continuous reading value</td>
</tr>
<tr class="even even">
<td style="text-align: left;"><code>MultiLevelSensor</code></td>
<td style="text-align: left;">Provides multiple reading values, which belong together</td>
</tr>
</tbody>
</table>
<p>Each IoT capability Sub-Object has a <code>Type</code> Parameter to identify the functionality the capability is representing. See the <a href="14-index-iot-data-model-theory-of-operation.html#sec:type-definition" class="heading">Type definition</a> section for details.</p>
<h3 class="appendix3" id="sec:node-object-table">V.2.2 Node Object table <a href="14-index-iot-data-model-theory-of-operation.html#sec:node-object-table" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>The <code>Device.Node.{i}.</code> and <code>Device.ProxiedDevice.{i}.Node.{i}.</code> Objects are mount points that provide the ability to support complex devices - that is, a group of capabilities. Each node is a container for a group of device capabilities that have a direct relationship with each other (sub-device) and a hierarchal relationship with the top-level. A node may have the same capabilities as the top-level, but applicable only for the node, with no impact to the top-level. Capabilities for the top-level node may have an effect on the lower level nodes, such as power.</p>
<h2 class="appendix2" id="sec:architecture-mappings">V.3 Architecture mappings <a href="14-index-iot-data-model-theory-of-operation.html#sec:architecture-mappings" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h3 class="appendix3" id="sec:individual-iot-devices">V.3.1 Individual IoT devices <a href="14-index-iot-data-model-theory-of-operation.html#sec:individual-iot-devices" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>Stand-alone IoT devices, which are capable of supporting their own USP Agent, provide their own data models, which expose the IoT sensor and control capabilities of the device:</p>
<figure>
<img src="extensions/iot/./figure-74.png" id="fig:iot-individual-device-models" alt="Figure 29: IoT individual device models " /><figcaption aria-hidden="true">Figure 29: IoT individual device models <a href="14-index-iot-data-model-theory-of-operation.html#fig:iot-individual-device-models" class="headerlink" title="Permalink to this figure"><img src="permalink.png" style="width:0.8em" /></a></figcaption>
</figure>
<p>Each device registers as an individual entity to the USP Controller. With the help of <code>Node</code> Objects, the capabilities can be additionally structured (not shown in the picture).</p>
<h3 class="appendix3" id="sec:proxied-iot-devices">V.3.2 Proxied IoT devices <a href="14-index-iot-data-model-theory-of-operation.html#sec:proxied-iot-devices" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>IoT devices connected over a proxy protocol (e.g. ZigBee) with an IoT control device hosting the USP Agent are modeled as proxied devices (i.e., using the <code>Device.ProxiedDevice.</code> table) in the data model of the control device’s USP Agent:</p>
<figure>
<img src="extensions/iot/./figure-75.png" id="fig:iot-proxied-device-model" alt="Figure 30: IoT proxied device model " /><figcaption aria-hidden="true">Figure 30: IoT proxied device model <a href="14-index-iot-data-model-theory-of-operation.html#fig:iot-proxied-device-model" class="headerlink" title="Permalink to this figure"><img src="permalink.png" style="width:0.8em" /></a></figcaption>
</figure>
<p>Each IoT device is represented as a <code>Device.ProxiedDevice.{i}.</code> instance in the data model of the control device, which exposes its IoT capabilities in the corresponding Objects. The capabilities can be additionally structured with the help of <code>Node</code> Object (not shown in the picture).</p>
<h2 class="appendix2" id="sec:iot-data-model-object-details">V.4 IoT data model Object details <a href="14-index-iot-data-model-theory-of-operation.html#sec:iot-data-model-object-details" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<h3 class="appendix3" id="sec:common-capability-parameters">V.4.1 Common capability Parameters <a href="14-index-iot-data-model-theory-of-operation.html#sec:common-capability-parameters" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>These Parameters have the same behavior for all capability Sub-Objects, where defined.</p>
<h4 class="appendix4" id="sec:type-definition">V.4.1.1 Type definition <a href="14-index-iot-data-model-theory-of-operation.html#sec:type-definition" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<p><strong>Applies to:</strong> All capability Sub-Objects</p>
<p>All capability Objects contain a mandatory <code>Type</code> enumeration value.</p>
<p>The <code>Type</code> value is a predefined enumeration value with the goal of giving a unified description of the capability Object. If the <code>Type</code> value requires further detail, the <code>Description</code> Parameter may provided a further definition.</p>
<p><em>Note: The <code>Type</code> enumeration in the data model can also, like all Parameters, be extended using the rules defined in TR-106 <span class="cite" data-citation-ids="TR-106"><a href="01-index-introduction.html#ref-TR-106">[37]</a></span>.</em></p>
<h4 class="appendix4" id="sec:unit-definition">V.4.1.2 Unit definition <a href="14-index-iot-data-model-theory-of-operation.html#sec:unit-definition" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<p><strong>Applies to:</strong> LevelControl, LevelSensor, MultilevelSensor</p>
<p>To define the used unit a similar concept as for the type definition is used. The definition consists of the <code>Unit</code> enumeration value.</p>
<p>The <code>Unit</code> value is a predefined enumeration value with the goal of giving a unified representation of the used unit.</p>
<p><em>Note: The <code>Unit</code> enumeration in the data model can also, like all Parameters, be extended using the rules defined in TR-106 <span class="cite" data-citation-ids="TR-106"><a href="01-index-introduction.html#ref-TR-106">[37]</a></span>.</em></p>
<p><em>Note: Imperial units are intentionally not modeled in favor of the metric system to increase the inter-working. If the Controller needs imperial units, it can easily convert the metric units into imperial ones by using the well-defined conversion routines.</em></p>
<h3 class="appendix3" id="sec:control-objects">V.4.2 Control Objects <a href="14-index-iot-data-model-theory-of-operation.html#sec:control-objects" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>Control Objects represent IoT capabilities that involve the manipulation of device or application states. They include Binary Controls, Level Controls, and Enumerated Controls.</p>
<h4 class="appendix4" id="sec:binarycontrol">V.4.2.1 BinaryControl <a href="14-index-iot-data-model-theory-of-operation.html#sec:binarycontrol" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<p>The binary controller defines the simplest type of controller, which allows to switch between two values like true/false, on/off, full/empty, etc. Its value is modeled as a Boolean, which can be either <code>true</code> or <code>false</code>.</p>
<p>The minimum definition of a “BinaryControl” consists of:</p>
<pre><code>    IoTCapability.i.Class               = &quot;BinaryControl&quot;
    IoTCapability.i.BinaryControl.Type  = ...
    IoTCapability.i.BinaryControl.Value = ...</code></pre>
<p>The value can be changed either directly by a USP Set operation, or via The <code>Toggle()</code> command, which corresponds to the behavior of a switch, changing the value to the other state.</p>
<h4 class="appendix4" id="sec:levelcontrol">V.4.2.2 LevelControl <a href="14-index-iot-data-model-theory-of-operation.html#sec:levelcontrol" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<p>The level controller capability allows a continuous change of a value within a predefined range. Its capabilities are defined by these three mandatory Parameters:</p>
<ul>
<li><code>Unit</code> - The unit used for the value</li>
<li><code>MinValue</code> - The minimum value the value can be set</li>
<li><code>MaxValue</code> - The maximum value the value can be set</li>
</ul>
<p>Implementations have to provide the minimum and maximum values to allow the controller to detect what values can be applied.</p>
<p>The minimum definition of a “LevelControl” consists of:</p>
<pre><code>    IoTCapability.i.Class                 = &quot;LevelControl&quot;
    IoTCapability.i.LevelControl.Type     = ...
    IoTCapability.i.LevelControl.Unit     = ...
    IoTCapability.i.LevelControl.MinValue = ...
    IoTCapability.i.LevelControl.MaxValue = ...
    IoTCapability.i.LevelControl.Value    = ...</code></pre>
<p>The value can be changed either directly by a USP Set operation, or via the step commands.</p>
<p>If the <code>StepUp()</code> command and/or the <code>StepDown()</code> command are implemented, the <code>StepValue</code> Parameter has to be implemented, which indicates the amount of change triggered by a step command. If resulting value of a step command would exceed the defined range, the operation does not result in a failure - instead, the result is set to the range limit value.</p>
<p>For example, if a temperature range is defined from 5.5 degC to 25 degC with a step value of 1 degC, a step down from 6 degC would result in 5.5 degC and not in 5 degC.</p>
<p>Additionally, if the lowest possible value is already set, a <code>StepDown()</code> will not change the current value, since the defined minimum range would be exceeded. The same also applies to the maximum value and <code>StepUp()</code> command.</p>
<h4 class="appendix4" id="sec:enumcontrol">V.4.2.3 EnumControl <a href="14-index-iot-data-model-theory-of-operation.html#sec:enumcontrol" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<p>The enumeration controller capability allows setting one of a set of predefined values. Examples are mode selections, with more than two modes. If only two values exist, the binary controller Object is preferred.</p>
<p>The minimum definition of an “EnumControl” consists of:</p>
<pre><code>    IoTCapability.i.Class                   = &quot;EnumControl&quot;
    IoTCapability.i.EnumControl.Type        = ...
    IoTCapability.i.EnumControl.ValidValues = &lt;list of possible values&gt;
    IoTCapability.i.EnumControl.Value       = &lt;current value&gt;</code></pre>
<p>The value can be changed either directly by a USP Set operation, or via the step commands.</p>
<p>The step commands will cycle through the value range, meaning that if the last valid value is reached, the next <code>StepUp()</code> command will select the first value of the valid values and vice versa for the <code>StepDown()</code> command. The valid values are stored in the Parameter <code>ValidValues</code> as a comma-separated list; that order of the list will be followed by the step commands.</p>
<p>It is possible to implement only one of the step commands, if only one direction is needed.</p>
<h3 class="appendix3" id="sec:sensor-objects">V.4.3 Sensor Objects <a href="14-index-iot-data-model-theory-of-operation.html#sec:sensor-objects" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>Sensor Objects represent IoT capabilities that involve reading or reporting on a device or application state. They include Binary Sensors, Level Sensors, and Enumerated Sensors, along with support for thresholds and triggering events.</p>
<h4 class="appendix4" id="sec:binary-sensor">V.4.3.1 Binary Sensor <a href="14-index-iot-data-model-theory-of-operation.html#sec:binary-sensor" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<p>The binary sensor Object Instance supports different kinds of binary sensor operations:</p>
<ul>
<li>Simple binary state, e.g. a door or window state</li>
<li>Threshold trigger, e.g. trigger a Carbon Dioxide Alarm if a certain threshold is exceeded.</li>
<li>Repeated trigger with grace period, e.g. movement detector.</li>
</ul>
<h5 class="appendix5" id="sec:simple-binary-state-sensor">V.4.3.1.1 Simple binary state sensor <a href="14-index-iot-data-model-theory-of-operation.html#sec:simple-binary-state-sensor" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h5>
<p>To model a simple sensor, which changes between two distinct states (e.g. a window or door open/close sensor), only the <code>Value</code> Parameter is needed.</p>
<p>The minimum definition of a BinarySensor consists of:</p>
<pre><code>    IoTCapability.i.Class              = &quot;BinarySensor&quot;
    IoTCapability.i.BinarySensor.Type  = ...
    IoTCapability.i.BinarySensor.Value = {true/false}</code></pre>
<p>The values of <code>true</code> and <code>false</code> represent the two possible <code>Value</code> states. Each time the state changes the value toggles.</p>
<p>For example, a motion sensor would be modeled as:</p>
<pre><code>    IoTCapability.i.Class              = &quot;BinarySensor&quot;
    IoTCapability.i.BinarySensor.Type  = &quot;MotionDetected&quot;
    IoTCapability.i.BinarySensor.Value = true</code></pre>
<p>Note that binary sensor types are meaningful for binary state behavior, e.g., “WindowOpen” rather than “Window”.</p>
<h5 class="appendix5" id="sec:threshold-trigger-sensor">V.4.3.1.2 Threshold trigger sensor <a href="14-index-iot-data-model-theory-of-operation.html#sec:threshold-trigger-sensor" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h5>
<p>To model a sensor, which additionally triggers on a certain threshold, add the <code>Sensitivity</code> Parameter to the definition:</p>
<pre><code>    IoTCapability.1.Class                    = &quot;BinarySensor&quot;
    IoTCapability.1.BinarySensor.Type        = &quot;CarbonDioxideDetected&quot;
    IoTCapability.1.BinarySensor.Value       = {true/false}
    IoTCapability.1.BinarySensor.Sensitivity = 50</code></pre>
<p>With the <code>Sensitivity</code> Parameter, the threshold is controlled. As soon as the measured value exceeds the threshold, the <code>Value</code> Parameter is set to <code>true</code>. As soon as the measured value goes below the threshold the <code>Value</code> Parameter is set to <code>false</code>.</p>
<figure>
<img src="extensions/iot/./figure-76.png" id="fig:iot-threshold-trigger-sensitivity" alt="Figure 31: IoT threshold trigger sensitivity " /><figcaption aria-hidden="true">Figure 31: IoT threshold trigger sensitivity <a href="14-index-iot-data-model-theory-of-operation.html#fig:iot-threshold-trigger-sensitivity" class="headerlink" title="Permalink to this figure"><img src="permalink.png" style="width:0.8em" /></a></figcaption>
</figure>
<p>The sensitivity value is a relative value in the range 0 to 100 percent. The exact meaning depends on the implementation.</p>
<h5 class="appendix5" id="sec:trigger-time-control">V.4.3.1.3 Trigger time control <a href="14-index-iot-data-model-theory-of-operation.html#sec:trigger-time-control" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h5>
<p>If the sensor state, after being triggered, should stay active for a minimum period, the <code>HoldTime</code> Parameter is used:</p>
<pre><code>    IoTCapability.1.Class                    = &quot;BinarySensor&quot;
    IoTCapability.1.BinarySensor.Type        = &quot;CarbonDioxideDetected&quot;
    IoTCapability.1.BinarySensor.Value       = {true/false}
    IoTCapability.1.BinarySensor.Sensitivity = 50
    IoTCapability.1.BinarySensor.HoldTime    = 5000</code></pre>
<p>This figure shows the effect of the <code>HoldTime</code> Parameter on the resulting value:</p>
<figure>
<img src="extensions/iot/./figure-77.png" id="fig:iot-threshold-trigger-hold-time" alt="Figure 32: IoT threshold trigger hold time " /><figcaption aria-hidden="true">Figure 32: IoT threshold trigger hold time <a href="14-index-iot-data-model-theory-of-operation.html#fig:iot-threshold-trigger-hold-time" class="headerlink" title="Permalink to this figure"><img src="permalink.png" style="width:0.8em" /></a></figcaption>
</figure>
<p>If the <code>HoldTime</code> Parameter is not implemented or is set to <code>0</code>, the handling is disabled.</p>
<h5 class="appendix5" id="sec:repeated-trigger-with-grace-period">V.4.3.1.4 Repeated trigger with grace period <a href="14-index-iot-data-model-theory-of-operation.html#sec:repeated-trigger-with-grace-period" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h5>
<p>Some sensors might produce too many triggers, e.g. continuous movement, when only one trigger in a specific time period is needed. To filter these the <code>RestTime</code> Parameter is used:</p>
<pre><code>    IoTCapability.1.Class                    = &quot;BinarySensor&quot;
    IoTCapability.1.BinarySensor.Type        = &quot;CarbonDioxideDetected&quot;
    IoTCapability.1.BinarySensor.Value       = {true/false}
    IoTCapability.1.BinarySensor.Sensitivity = 50
    IoTCapability.1.BinarySensor.RestTime    = 10000</code></pre>
<p>With this setting, new trigger events are ignored for 10 seconds (10000 miliseconds) after the first trigger has been detected, resulting in the following pattern:</p>
<figure>
<img src="extensions/iot/./figure-78.png" id="fig:iot-threshold-trigger-rest-time" alt="Figure 33: IoT threshold trigger rest time " /><figcaption aria-hidden="true">Figure 33: IoT threshold trigger rest time <a href="14-index-iot-data-model-theory-of-operation.html#fig:iot-threshold-trigger-rest-time" class="headerlink" title="Permalink to this figure"><img src="permalink.png" style="width:0.8em" /></a></figcaption>
</figure>
<p>If the <code>RestTime</code> Parameter is not implemented or is set to <code>0</code>, the handling is disabled.</p>
<h5 class="appendix5" id="sec:repeated-trigger-with-minimum-duration">V.4.3.1.5 Repeated trigger with minimum duration <a href="14-index-iot-data-model-theory-of-operation.html#sec:repeated-trigger-with-minimum-duration" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h5>
<p>To get readings with a minimum duration, combine rest and hold times:</p>
<pre><code>    IoTCapability.1.Class                    = &quot;BinarySensor&quot;
    IoTCapability.1.BinarySensor.Type        = &quot;CarbonDioxideDetected&quot;
    IoTCapability.1.BinarySensor.Value       = {true/false}
    IoTCapability.1.BinarySensor.Sensitivity = 50
    IoTCapability.1.BinarySensor.HoldTime    = 5000
    IoTCapability.1.BinarySensor.RestTime    = 10000</code></pre>
<p>Which results in the following pattern:</p>
<figure>
<img src="extensions/iot/./figure-79.png" id="fig:iot-threshold-trigger-minimum-duration" alt="Figure 34: IoT threshold trigger minimum duration " /><figcaption aria-hidden="true">Figure 34: IoT threshold trigger minimum duration <a href="14-index-iot-data-model-theory-of-operation.html#fig:iot-threshold-trigger-minimum-duration" class="headerlink" title="Permalink to this figure"><img src="permalink.png" style="width:0.8em" /></a></figcaption>
</figure>
<h4 class="appendix4" id="sec:level-sensor">V.4.3.2 Level Sensor <a href="14-index-iot-data-model-theory-of-operation.html#sec:level-sensor" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<p>The <code>LevelSensor</code> Object provides a template for modeling devices that report various levels. <code>LevelSensor</code> is used to reflect the functionality of a sensor that reports a level in units and supports different kinds of sensor operation:</p>
<ul>
<li>Level reading</li>
<li>Additional Threshold trigger: e.g., a Battery Alarm is triggered.</li>
</ul>
<h5 class="appendix5" id="sec:level-reading">V.4.3.2.1 Level reading <a href="14-index-iot-data-model-theory-of-operation.html#sec:level-reading" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h5>
<p>To model a level reading, the reading value and its unit are defined. The minimum definition of a <code>LevelSensor</code> consists of:</p>
<pre><code>    IoTCapability.i.Class             = &quot;LevelSensor&quot;
    IoTCapability.i.LevelSensor.Type  = ...
    IoTCapability.i.LevelSensor.Unit  = ...
    IoTCapability.i.LevelSensor.Value = ...</code></pre>
<p>For example, to show the remaining load of a battery in percent, this capability would have the following values:</p>
<pre><code>    IoTCapability.1.Class             = &quot;LevelSensor&quot;
    IoTCapability.1.LevelSensor.Type  = &quot;Battery&quot;
    IoTCapability.1.LevelSensor.Unit  = &quot;%&quot;
    IoTCapability.1.LevelSensor.Value = 63&quot;</code></pre>
<p>With this definition, the remaining load is expressed in percent, here 63 percent. Since the unit value is a decimal type it is also possible to specify fractions for the value:</p>
<pre><code>    IoTCapability.1.Class = &quot;LevelSensor&quot;
    IoTCapability.1.LevelSensor.Type  = &quot;Battery&quot;
    IoTCapability.1.LevelSensor.Unit  = &quot;%&quot;
    IoTCapability.1.LevelSensor.Value = 63.26</code></pre>
<p>This expresses a total remaining load of 63.26 percent.</p>
<h5 class="appendix5" id="sec:threshold-trigger">V.4.3.2.2 Threshold trigger <a href="14-index-iot-data-model-theory-of-operation.html#sec:threshold-trigger" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h5>
<p>In cases where not only the actual value is of interest, but also important to know if a predefined threshold is reached or undershot, the <code>LevelSensor</code> Object can be extended with threshold Parameters. Once the <code>LowLevel</code> or <code>HighLevel</code> Parameter is <code>true</code>, it will remain <code>true</code> until the device is reset or the condition no longer exists. This will depend on the particular device.</p>
<table>
<colgroup>
<col style="width: 28%" />
<col style="width: 10%" />
<col style="width: 6%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="header header">
<th style="text-align: left;">Parameter</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">R/W</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd odd">
<td style="text-align: left;"><code>LowLevel</code></td>
<td style="text-align: left;">boolean</td>
<td style="text-align: left;">R</td>
<td style="text-align: left;">True means that the low level threshold is reached or undershot.</td>
</tr>
<tr class="even even">
<td style="text-align: left;"><code>LowLevelThreshold</code></td>
<td style="text-align: left;">decimal</td>
<td style="text-align: left;">R/W</td>
<td style="text-align: left;">The defined low level value.</td>
</tr>
<tr class="odd odd">
<td style="text-align: left;"><code>HighLevel</code></td>
<td style="text-align: left;">boolean</td>
<td style="text-align: left;">R</td>
<td style="text-align: left;">True means that the high level threshold is reached or exceeded.</td>
</tr>
<tr class="even even">
<td style="text-align: left;"><code>HighLevelThreshold</code></td>
<td style="text-align: left;">decimal</td>
<td style="text-align: left;">R/W</td>
<td style="text-align: left;">The defined high level value.</td>
</tr>
</tbody>
</table>
<p>Table 17 – IoT LevelSensor threshold Parameters</p>
<p>When modeling a battery with a <code>LevelSensor</code> Object, an additional low level warning (Boolean) may be supported along with a Low Level threshold that provides a setting for the warning. The resulting Object looks like this:</p>
<pre><code>    IoTCapability.1.Class                         = &quot;LevelSensor&quot;
    IoTCapability.1.LevelSensor.Type              = &quot;Battery&quot;
    IoTCapability.1.LevelSensor.Unit              = &quot;%&quot;
    IoTCapability.1.LevelSensor.LowLevelThreshold = 20
    IoTCapability.1.LevelSensor.Value             = 19
    IoTCapability.1.LevelSensor.LowLevel          = true</code></pre>
<p><em>Note: For more complex scenarios, like having a grace period, the binary sensor Object can be used instead of the LowLevel or HighLevel Threshold Parameters.</em></p>
<h5 class="appendix5" id="sec:multi-level-sensor">V.4.3.2.3 Multi Level Sensor <a href="14-index-iot-data-model-theory-of-operation.html#sec:multi-level-sensor" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h5>
<p>A <code>MultiLevelSensor</code> instance models sensors, which provide a set of related values with the same unit.</p>
<p>The minimum definition of a “MultiLevelSensor” consists of:</p>
<pre><code>    IoTCapability.i.Class                   = &quot;MultiLevelSensor&quot;
    IoTCapability.i.MultiLevelSensor.Type   = ...
    IoTCapability.i.MultiLevelSensor.Unit   = ...
    IoTCapability.i.MultiLevelSensor.Values = ...
    IoTCapability.1.MultiLevelSensor.ValueNames = ...</code></pre>
<p>An example is a location reading consisting of the two values longitude and latitude in decimal degree notation, which have to be read together:</p>
<pre><code>    IoTCapability.1.Class                       = &quot;MultiLevelSensor&quot;
    IoTCapability.1.MultiLevelSensor.Type       = &quot;Location&quot;
    IoTCapability.1.MultiLevelSensor.Unit       = &quot;deg&quot;
    IoTCapability.1.MultiLevelSensor.Values     = &quot;48.1372056,11.57555&quot;
    IoTCapability.1.MultiLevelSensor.ValueNames = &quot;Latitude,Longitude&quot;</code></pre>
<p>This example uses the Parameter <code>ValueNames</code> to provide information about the individual value meanings.</p>
<h4 class="appendix4" id="sec:enum-sensor">V.4.3.3 Enum Sensor <a href="14-index-iot-data-model-theory-of-operation.html#sec:enum-sensor" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h4>
<p>An <code>EnumSensor</code> instance provides a reading value from a predefined set of values. This allows modeling of sensors, which can output discreet values from a predefined set.</p>
<p>The minimum definition of an “EnumSensor” consists of:</p>
<pre><code>    IoTCapability.i.Class                  = &quot;EnumSensor&quot;
    IoTCapability.i.EnumSensor.Type        = ...
    IoTCapability.i.EnumSensor.Unit        = ...
    IoTCapability.i.EnumSensor.ValidValues = ...
    IoTCapability.i.EnumSensor.Value       = ...</code></pre>
<p>The <code>ValidValues</code> Parameter determines the set of values, which will be delivered by the sensor.</p>
<p>For example, a traffic light could be modeled as:</p>
<pre><code>    IoTCapability.1.Class                  = &quot;EnumSensor&quot;
    IoTCapability.1.EnumSensor.Type        = &quot;X_&lt;oui&gt;_TrafficLight&quot;
    IoTCapability.1.EnumSensor.ValidValues = &quot;Red, Yellow, Green&quot;
    IoTCapability.1.EnumSensor.Value       = &quot;Green&quot;</code></pre>
<h2 class="appendix2" id="sec:examples">V.5 Examples <a href="14-index-iot-data-model-theory-of-operation.html#sec:examples" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h2>
<p>This chapter gives several examples how to model IoT Devices.</p>
<h3 class="appendix3" id="sec:example-ac-thermostat">V.5.1 Example: A/C Thermostat <a href="14-index-iot-data-model-theory-of-operation.html#sec:example-ac-thermostat" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>This example shows an A/C Thermostat connected over Z-Wave as a proxied device of an IoT Gateway:</p>
<p>Structure elements:</p>
<ul>
<li>IoTCapability.1 (EnumControl) : Operation Mode</li>
<li>IoTCapability.2 (LevelControl) : Cool Temperature in range from 14 to 25 degC</li>
<li>IoTCapability.3 (LevelControl) : Heat Temperature in range from 14 to 25 degC</li>
<li>IoTCapability.4 (LevelControl) : Energy Saving Cool Temperature in range from 14 to 25 degC</li>
<li>IoTCapability.5 (LevelControl) : Energy Saving Heat Temperature in range from 14 to 25 degC</li>
<li>IoTCapability.6 (LevelSensor) : Current Temperature</li>
<li>IoTCapability.7 (EnumControl) : Fan Mode Control</li>
<li>IoTCapability.8 (EnumSensor) : Current Fan Operating State</li>
</ul>
<p>Instantiated data model:</p>
<pre><code>    ProxiedDevice.1.Type                                    = &quot;Thermostat&quot;
    ProxiedDevice.1.Online                                  = true
    ProxiedDevice.1.ProxyProtocol                           = &quot;Z-Wave&quot;

    ProxiedDevice.1.IoTCapabilityNumberOfEntries            = 9

    ProxiedDevice.1.IoTCapability.1.Class                   = &quot;EnumControl&quot;
    ProxiedDevice.1.IoTCapability.1.EnumControl.Type        = &quot;ThermostatMode&quot;
    ProxiedDevice.1.IoTCapability.1.EnumControl.Value       = &quot;Cool&quot;
    ProxiedDevice.1.IoTCapability.1.EnumControl.ValidValues = &quot;Heat, Cool,
                                                              Energy_heat,
                                                              Energy_cool, Off,
                                                              Auto&quot;

    ProxiedDevice.1.IoTCapability.2.Class                   = &quot;LevelControl&quot;
    ProxiedDevice.1.IoTCapability.2.LevelControl.Type       = &quot;Temperature&quot;
    ProxiedDevice.1.IoTCapability.2.LevelControl.Description = &quot;TargetCoolTemperature&quot;
    ProxiedDevice.1.IoTCapability.2.LevelControl.Value      = 17
    ProxiedDevice.1.IoTCapability.2.LevelControl.Unit       = &quot;degC&quot;
    ProxiedDevice.1.IoTCapability.2.LevelControl.MinValue   = 14
    ProxiedDevice.1.IoTCapability.2.LevelControl.MaxValue   = 25

    ProxiedDevice.1.IoTCapability.3.Class                   = &quot;LevelControl&quot;
    ProxiedDevice.1.IoTCapability.3.LevelControl.Type       = &quot;Temperature&quot;
    ProxiedDevice.1.IoTCapability.3.LevelControl.Description = &quot;TargetHeatTemperature&quot;
    ProxiedDevice.1.IoTCapability.3.LevelControl.Value      = 21
    ProxiedDevice.1.IoTCapability.3.LevelControl.Unit       = &quot;degC&quot;
    ProxiedDevice.1.IoTCapability.3.LevelControl.MinValue   = 14
    ProxiedDevice.1.IoTCapability.3.LevelControl.MaxValue   = 25

    ProxiedDevice.1.IoTCapability.4.Class                   = &quot;LevelControl&quot;
    ProxiedDevice.1.IoTCapability.4.LevelControl.Type       = &quot;Temperature&quot;
    ProxiedDevice.1.IoTCapability.4.LevelControl.Description = &quot;TargetEnergyCoolTemp&quot;
    ProxiedDevice.1.IoTCapability.4.LevelControl.Value      = 19
    ProxiedDevice.1.IoTCapability.4.LevelControl.Unit       = &quot;degC&quot;
    ProxiedDevice.1.IoTCapability.4.LevelControl.MinValue   = 14
    ProxiedDevice.1.IoTCapability.4.LevelControl.MaxValue   = 25

    ProxiedDevice.1.IoTCapability.5.Class                   = &quot;LevelControl&quot;
    ProxiedDevice.1.IoTCapability.5.LevelControl.Type       = &quot;Temperature&quot;
    ProxiedDevice.1.IoTCapability.5.LevelControl.Description = &quot;TargetEnergyHeatTemp&quot;
    ProxiedDevice.1.IoTCapability.5.LevelControl.Value      = 19
    ProxiedDevice.1.IoTCapability.5.LevelControl.Unit       = &quot;degC&quot;
    ProxiedDevice.1.IoTCapability.5.LevelControl.MinValue   = 14
    ProxiedDevice.1.IoTCapability.5.LevelControl.MaxValue   = 25

    ProxiedDevice.1.IoTCapability.6.Class                   = &quot;LevelSensor&quot;
    ProxiedDevice.1.IoTCapability.6.LevelSensor.Type        = &quot;Temperature&quot;
    ProxiedDevice.1.IoTCapability.6.LevelSensor.Value       = 19.5
    ProxiedDevice.1.IoTCapability.6.LevelSensor.Unit        = &quot;degC&quot;

    ProxiedDevice.1.IoTCapability.7.Class                   = &quot;EnumControl&quot;
    ProxiedDevice.1.IoTCapability.7.EnumControl.Type        = &quot;FanMode&quot;
    ProxiedDevice.1.IoTCapability.7.EnumControl.Value       = &quot;Low&quot;
    ProxiedDevice.1.IoTCapability.7.EnumControl.ValidValues = &quot;Auto_low, Low,
                                                              Circulation, Off&quot;

    ProxiedDevice.1.IoTCapability.8.Class                   = &quot;EnumSensor&quot;
    ProxiedDevice.1.IoTCapability.8.EnumSensor.Type         = &quot;OperatingState&quot;
    ProxiedDevice.1.IoTCapability.8.EnumSensor.Value        = &quot;Cooling&quot;
    ProxiedDevice.1.IoTCapability.8.EnumSensor.ValidValues  =
                &quot;Heating, Cooling,
                FanOnly, PendingHeat, PendingCool, VentEconomizer,
                AuxHeating, 2ndStageHeating, 2ndStageCooling,
                2ndStageAuxHeat, 3rdStageAuxHeat&quot;</code></pre>
<h3 class="appendix3" id="sec:example-light-with-a-dimmer-and-switch">V.5.2 Example: Light with a dimmer and switch <a href="14-index-iot-data-model-theory-of-operation.html#sec:example-light-with-a-dimmer-and-switch" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>This example shows a dimmable light connected over Z-Wave as proxied device to an IoT Gateway.</p>
<p>Structure elements:</p>
<ul>
<li>IoTCapability.1 (BinaryControl) : On/Off Switch, expressed as <code>true</code> and <code>false</code> value</li>
<li>IoTCapability.2 (LevelControl) : Brightness control from 0% to 100%</li>
</ul>
<p>Instantiated data model:</p>
<pre><code>    ProxiedDevice.2.Type                                      = &quot;Light&quot;
    ProxiedDevice.2.Online                                    = &quot;true&quot;
    ProxiedDevice.2.ProxyProtocol                             = &quot;Z-Wave&quot;
    ProxiedDevice.2.Name                                      = &quot;GE DimMing Bulb&quot;
    ProxiedDevice.2.IoTCapabilityNumberOfEntries              = 2

    ProxiedDevice.2.IoTCapability.1.Class                     = &quot;BinaryControl&quot;
    ProxiedDevice.2.IoTCapability.1.BinaryControl.Type        = &quot;Switch&quot;
    ProxiedDevice.2.IoTCapability.1.BinaryControl.Value       = true

    ProxiedDevice.2.IoTCapability.2.Class                     = &quot;LevelControl&quot;
    ProxiedDevice.2.IoTCapability.2.LevelControl.Type         = &quot;Brightness&quot;
    ProxiedDevice.2.IoTCapability.2.LevelControl.Value        = 100
    ProxiedDevice.2.IoTCapability.2.LevelControl.Min          = 0
    ProxiedDevice.2.IoTCapability.2.LevelControl.Max          = 100
    ProxiedDevice.2.IoTCapability.2.LevelControl.Unit         = &quot;%&quot;</code></pre>
<h3 class="appendix3" id="sec:example-fan">V.5.3 Example: Fan <a href="14-index-iot-data-model-theory-of-operation.html#sec:example-fan" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>This example shows a simple fan connected over Z-Wave as proxied device to an IoT Gateway.</p>
<p>Structure elements:</p>
<ul>
<li>IoTCapability.1 (EnumControl) : Fan state</li>
</ul>
<p>Instantiated data model:</p>
<pre><code>    ProxiedDevice.3.Type                                       = &quot;Fan&quot;
    ProxiedDevice.3.Online                                     = &quot;true&quot;
    ProxiedDevice.3.ProxyProtocol                              = &quot;Z-Wave&quot;
    ProxiedDevice.3.name                                       = &quot;GE Fan&quot;
    ProxiedDevice.3.IoTCapabilityNumberOfEntries               = 1

    ProxiedDevice.2.IoTCapability.1.Class                      = &quot;EnumControl&quot;
    ProxiedDevice.3.IoTCapability.1.EnumControl.Type           = &quot;FanMode&quot;
    ProxiedDevice.3.IoTCapability.1.EnumControl.Value          = &quot;Off&quot;
    ProxiedDevice.3.IoTCapability.1.EnumControlValidValues     =
                            &quot;Off, Low, Medium, High, On, Auto, Smart&quot;</code></pre>
<h3 class="appendix3" id="example-multi-sensor-strip-with-a-common-battery">V.5.4 Example: Multi-Sensor strip with a common battery. <a href="14-index-iot-data-model-theory-of-operation.html#example-multi-sensor-strip-with-a-common-battery" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>The sensors are inserted into the strip and may have their own power switch, battery, energy consumption and manufacturer.</p>
<p>Instantiated data model:</p>
<pre><code>    ProxiedDevice.4.Type                                             = &quot;SensorStrip&quot;
    ProxiedDevice.4.Online                                           = true
    ProxiedDevice.4.ProxyProtocol                                    = &quot;Z-Wave&quot;
    ProxiedDevice.4.Name                                             = &quot;Insertable Sensor Strip&quot;
    ProxiedDevice.4.IoTCapabilityNumberOfEntries                     = 1
    ProxiedDevice.4.NodeNumberOfEntries                              = 2

    ProxiedDevice.4.IoTCapability.1.Class                            = &quot;LevelSensor&quot;
    ProxiedDevice.4.IoTCapability.1.LevelSensor.Value                = 80
    ProxiedDevice.4.IoTCapability.1.LevelSensor.Unit                 = &quot;%&quot;
    ProxiedDevice.4.IoTCapability.1.LevelSensor.Type                 = &quot;Battery&quot;
    ProxiedDevice.4.IoTCapability.1.LevelSensor.LowLevelThreshold    = 30
    ProxiedDevice.4.IoTCapability.1.LevelSensor.LowLevel             = false

    ProxiedDevice.4.Node.1.Type                                      = &quot;Sensor&quot;
    ProxiedDevice.4.Node.1.IoTCapabilityNumberOfEntries              = 1

    ProxiedDevice.4.Node.1.IoTCapability.1.Class                     = &quot;BinarySensor&quot;
    ProxiedDevice.4.Node.1.IoTCapability.1.BinarySensor.HoldTime     = 0
    ProxiedDevice.4.Node.1.IoTCapability.1.BinarySensor.Sensitivity  = 5
    ProxiedDevice.4.Node.1.IoTCapability.1.BinarySensor.RestTime     = 10000
    ProxiedDevice.4.Node.1.IoTCapability.1.BinarySensor.Value        = false
    ProxiedDevice.4.Node.1.IoTCapability.1.BinarySensor.Type         = &quot;MotionDetected&quot;
    ProxiedDevice.4.Node.1.IoTCapability.1.BinarySensor.LastSensingTime  = 1573344000</code></pre>
<h3 class="appendix3" id="sec:example-ceiling-fan-with-integrated-light">V.5.5 Example: Ceiling Fan with integrated light <a href="14-index-iot-data-model-theory-of-operation.html#sec:example-ceiling-fan-with-integrated-light" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>This example shows a ceiling fan with integrated light connected over Z-Wave as proxied device to an IoT Gateway.</p>
<p>Structure elements:</p>
<ul>
<li>IoTCapability.1 (BinaryControl) :</li>
<li>Node.1 : Represents the light control</li>
<li>.IoTCapability.1 (LevelControl) : Brightness control from 0% to 100%</li>
<li>.IoTCapability.2 (BinaryControl) : On/Off Switch, expressed as <code>true</code> and <code>false</code> value</li>
<li>Node.2 : Fan control</li>
<li>.IoTCapability.1 (EnumControl) : Set fan state</li>
</ul>
<p>Instantiated data model:</p>
<pre><code>    ProxiedDevice.5.Type                                           = &quot;Fan&quot;
    ProxiedDevice.5.Online                                         = true
    ProxiedDevice.5.ProxyProtocol                                  = &quot;Z-Wave&quot;
    ProxiedDevice.5.Name                                           = &quot;42&#39;&#39; Ceiling Fan&quot;

    ProxiedDevice.5.IoTCapabilityNumberOfEntries                   = 1
    ProxiedDevice.5.NodeNumberOfEntries                            = 2

    ProxiedDevice.5.IoTCapability.1.Class                          = &quot;BinaryControl&quot;
    ProxiedDevice.5.IoTCapability.1.BinaryControl.Type             = &quot;Switch&quot;
    ProxiedDevice.5.IoTCapability.1.BinaryControl.State            = true

    ProxiedDevice.5.Node.1.Type                                    = &quot;Light&quot;
    ProxiedDevice.5.Node.1.IoTCapabilityNumberOfEntries            = 2

    ProxiedDevice.5.Node.1.IoTCapability.1.Class                   = &quot;LevelControl&quot;
    ProxiedDevice.5.Node.1.IoTCapability.1.LevelControl.Type       = &quot;Brightness&quot;
    ProxiedDevice.5.Node.1.IoTCapability.1.LevelControl.Value      = 99
    ProxiedDevice.5.Node.1.IoTCapability.1.LevelControl.MinValue   = 0
    ProxiedDevice.5.Node.1.IoTCapability.1.LevelControl.MaxValue   = 100
    ProxiedDevice.5.Node.1.IoTCapability.1.LevelControl.Unit       = &quot;%&quot;

    ProxiedDevice.5.Node.1.IoTCapability.2.Class                   = &quot;BinaryControl&quot;
    ProxiedDevice.5.Node.1.IoTCapability.2.BinaryControl.Type      = &quot;Switch&quot;
    ProxiedDevice.5.Node.1.IoTCapability.2.BinaryControl.Value     = true

    ProxiedDevice.5.Node.2.Type                                    = &quot;Fan&quot;
    ProxiedDevice.5.Node.2.IoTCapabilityNumberOfEntries            = 1

    ProxiedDevice.5.Node.2.IoTCapability.1.Class                   = &quot;EnumControl&quot;
    ProxiedDevice.5.Node.2.IoTCapability.1.EnumControl.Type        = &quot;FanMode&quot;
    ProxiedDevice.5.Node.2.IoTCapability.1.EnumControl.Value       = &quot;Off&quot;
    ProxiedDevice.5.Node.2.IoTCapability.1.EnumControl.ValidValues = &quot;Off, Low,
                                                                  Medium, High,
                                                                  Auto, Smart</code></pre>
<h3 class="appendix3" id="sec:example-power-strip">V.5.6 Example: Power strip <a href="14-index-iot-data-model-theory-of-operation.html#sec:example-power-strip" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>This example shows a power strip with integrated power measurements connected over Z-Wave as proxied device to an IoT Gateway.</p>
<p>Structure elements:</p>
<ul>
<li>IoTCapability.1 (BinaryControl) : On/Off Switch for complete power strip</li>
<li>IoTCapability.2 (LevelSensor) : Total power reading of strip in KWh.</li>
<li>Node.1 - 3: Each node represents a power outlet with:
<ul>
<li>.IoTCapability.1 (BinaryControl) : On/Off Switch, expressed as <code>true</code> and <code>false</code> value</li>
<li>.IoTCapability.2 (LevelSensor) : Current power reading of outlet in Watt.</li>
<li>.IoTCapability.3 (LevelSensor) : Total used power reading of outlet in KWh.</li>
</ul></li>
</ul>
<p>Instantiated data model:</p>
<pre><code>    ProxiedDevice.6.Type                                         = &quot;PowerStrip&quot;
    ProxiedDevice.6.Online                                       = &quot;true&quot;
    ProxiedDevice.6.ProxyProtocol                                = &quot;Z-Wave&quot;
    ProxiedDevice.6.Name                                         = &quot;3 Plug Strip&quot;
    ProxiedDevice.6.IoTCapabilityNumberOfEntries                 = 2
    ProxiedDevice.6.NodeNumberOfEntries                          = 3

    ProxiedDevice.6.IoTCapability.1.Class                        = &quot;BinaryControl&quot;
    ProxiedDevice.6.IoTCapability.1.BinaryControl.Type           = &quot;Switch&quot;
    ProxiedDevice.6.IoTCapability.1.BinaryControl.Value          = true
    ProxiedDevice.6.IoTCapability.3.Class                        = &quot;LevelSensor&quot;
    ProxiedDevice.6.IoTCapability.3 Name                         = &quot;Total Accumulated Power&quot;
    ProxiedDevice.6.IoTCapability.3.LevelSensor.Type             = &quot;Power&quot;
    ProxiedDevice.6.IoTCapability.3.LevelSensor.Unit             = &quot;KWh&quot;
    ProxiedDevice.6.IoTCapability.3.LevelSensor.Value            = &quot;2227,56&quot;

    ProxiedDevice.6.Node.1.Type                                  = &quot;Switch&quot;
    ProxiedDevice.6.Node.1.IoTCapabilityNumberOfEntries          = 3
    ProxiedDevice.6.Node.1.IoTCapability.1.Class                 = &quot;BinaryControl&quot;
    ProxiedDevice.6.Node.1.IoTCapability.1.BinaryControl.Type    = &quot;Switch&quot;
    ProxiedDevice.6.Node.1.IoTCapability.1.BinaryControl.State   = true
    ProxiedDevice.6.Node.1.IoTCapability.2.Class                 = &quot;LevelSensor&quot;
    ProxiedDevice.6.Node.1.IoTCapability.2.LevelSensor.Type      = &quot;Power&quot;
    ProxiedDevice.6.Node.1.IoTCapability.2.LevelSensor.Unit      = &quot;W&quot;
    ProxiedDevice.6.Node.1.IoTCapability.2.LevelSensor.Value     = 99
    ProxiedDevice.6.Node.1.IoTCapability.3.Class                 = &quot;LevelSensor&quot;
    ProxiedDevice.6.Node.1.IoTCapability.3 Name                  = &quot;Accumulated Power&quot;
    ProxiedDevice.6.Node.1.IoTCapability.3.LevelSensor.Type      = &quot;Power&quot;
    ProxiedDevice.6.Node.1.IoTCapability.3.LevelSensor.Unit      = &quot;KWh&quot;
    ProxiedDevice.6.Node.1.IoTCapability.3.LevelSensor.Value     = 390.67

    ProxiedDevice.6.Node.2.Type                                  = &quot;Switch&quot;
    ProxiedDevice.6.Node.2.IoTCapabilityNumberOfEntries          = 3
    ProxiedDevice.6.Node.2.IoTCapability.1.Class                 = &quot;BinaryControl&quot;
    ProxiedDevice.6.Node.2.IoTCapability.1.BinaryControl.Type    = &quot;Switch&quot;
    ProxiedDevice.6.Node.2.IoTCapability.1.BinaryControl.State   = true
    ProxiedDevice.6.Node.2.IoTCapability.2.Class                 = &quot;LevelSensor&quot;
    ProxiedDevice.6.Node.2.IoTCapability.2.LevelSensor.Type      = &quot;Power&quot;
    ProxiedDevice.6.Node.2.IoTCapability.2.LevelSensor.Unit      = &quot;W&quot;
    ProxiedDevice.6.Node.2.IoTCapability.2.LevelSensor.Value     = 76
    ProxiedDevice.6.Node.2.IoTCapability.3.Class                 = &quot;LevelSensor&quot;
    ProxiedDevice.6.Node.2.IoTCapability.3 Name                  = &quot;Accumulated Power&quot;
    ProxiedDevice.6.Node.2.IoTCapability.3.LevelSensor.Type      = &quot;Power&quot;
    ProxiedDevice.6.Node.2.IoTCapability.3.LevelSensor.Unit      = &quot;KWh&quot;
    ProxiedDevice.6.Node.2.IoTCapability.3.LevelSensor.Value     = 1783.63

    ProxiedDevice.6.Node.3.Type                                  = &quot;Switch&quot;
    ProxiedDevice.6.Node.3.IoTCapabilityNumberOfEntries          = 3
    ProxiedDevice.6.Node.3.IoTCapability.1.Class                 = &quot;BinaryControl&quot;
    ProxiedDevice.6.Node.3.IoTCapability.1.BinaryControl.Type    = &quot;Switch&quot;
    ProxiedDevice.6.Node.3.IoTCapability.1.BinaryControl.State   = true
    ProxiedDevice.6.Node.3.IoTCapability.2.Class                 = &quot;LevelSensor&quot;
    ProxiedDevice.6.Node.3.IoTCapability.2.LevelSensor.Type      = &quot;Power&quot;
    ProxiedDevice.6.Node.3.IoTCapability.2.LevelSensor.Unit      = &quot;W&quot;
    ProxiedDevice.6.Node.3.IoTCapability.2.LevelSensor.Value     = 0
    ProxiedDevice.6.Node.3.IoTCapability.3.Class                 = &quot;LevelSensor&quot;
    ProxiedDevice.6.Node.3.IoTCapability.3 Name                  = &quot;Accumulated Power&quot;
    ProxiedDevice.6.Node.3.IoTCapability.3.LevelSensor.Type      = &quot;Power&quot;
    ProxiedDevice.6.Node.3.IoTCapability.3.LevelSensor.Unit      = &quot;KWh&quot;
    ProxiedDevice.6.Node.3.IoTCapability.3.LevelSensor.Value     = 53.26</code></pre>
<h3 class="appendix3" id="sec:example-battery-powered-radiator-thermostat">V.5.7 Example: Battery powered radiator thermostat <a href="14-index-iot-data-model-theory-of-operation.html#sec:example-battery-powered-radiator-thermostat" class="headerlink" title="Permalink to this header"><img src="permalink.png" style="width:0.8em" /></a></h3>
<p>This example shows the IoT model for a radiator thermostat with an integrated USP Agent, which is directly controlled.</p>
<p>Structure elements:</p>
<ul>
<li>IoTCapability.1 (EnumControl): Operation Mode</li>
<li>IoTCapability.2 (EnumControl): Auto/Manual Temperature setting</li>
<li>IoTCapability.3 (EnumControl): Vacation Temperature setting</li>
<li>IoTCapability.4 (LevelSensor) : Current Temperature</li>
<li>IoTCapability.5 (LevelSensor): Valve position</li>
<li>IoTCapability.6 (LevelSensor): Battery status</li>
</ul>
<p><em>Note: All temperature settings are modeled as “EnumControl” to define a range between 4 and 23° degC in steps of 0.5° or an “Off” value.</em></p>
<p>Instantiated data model:</p>
<pre><code>    Device.DeviceInfo.Description                  = &quot;Battery powered radiator
                                                      thermostat&quot;

    Device.IoTCapabilityNumberOfEntries            = 6

    Device.IoTCapability.1.Class                   = &quot;EnumControl
    Device.IoTCapability.1.EnumControl.Type        = &quot;ThermostatMode&quot;
    Device.IoTCapability.1.EnumControl.ValidValues = &quot;Off, Auto, Manual, Vacation&quot;
    Device.IoTCapability.1.EnumControl.Value       = &quot;Auto&quot;      # current mode

    Device.IoTCapability.2.Class                   = &quot;EnumControl
    Device.IoTCapability.2.Name                    = &quot;Desired Temperature&quot;
    Device.IoTCapability.2.EnumControl.Type        = &quot;TemperatureMode&quot;
    Device.IoTCapability.2.EnumControl.ValidValues = &quot;Off, 4, 4.5, 5.0, 5.5,
                                                     6, 6.5, 7, 7.5, 8, 8.5,
                                                     9, 9.5, 10, 10.5, 11,
                                                     11.5, 12, 12.5, 13, 13.5,
                                                     14, 14.5, 15.0, 15.5, 16,
                                                     16.5, 17, 17.5, 18, 18.5,
                                                     19, 19.5, 20, 20.5, 21,
                                                     21.5, 22, 22.5, 23&quot;
    Device.IoTCapability.2.EnumControl.Value       = 19   # Requested temperature

    Device.IoTCapability.3.Class                   = &quot;EnumControl&quot;
    Device.IoTCapability.3.Name                    = &quot;Vacation Temperature&quot;
    Device.IoTCapability.3.EnumControl.Type        = &quot;TemperatureMode&quot;
    Device.IoTCapability.3.EnumControl.ValidValues = &quot;Off, 4, 4.5, 5.0, 5.5,
                                                     6, 6.5, 7, 7.5, 8, 8.5,
                                                     9, 9.5, 10, 10.5, 11,
                                                     11.5, 12, 12.5, 13, 13.5,
                                                     14, 14.5, 15.0, 15.5, 16,
                                                     16.5, 17, 17.5, 18, 18.5,
                                                     19, 19.5, 20, 20.5, 21,
                                                     21.5, 22, 22.5, 23&quot;
    Device.IoTCapability.3.EnumControl.Value       = 12   # Requested temperature
                                                            # during absence

    Device.IoTCapability.4.Class                   = &quot;LevelSensor&quot;
    Device.IoTCapability.4.Name                    = &quot;Current Temperature&quot;
    Device.IoTCapability.4.LevelSensor.Type        = &quot;Temperature&quot;
    Device.IoTCapability.4.LevelSensor.Unit        = &quot;degC&quot;
    Device.IoTCapability.4.LevelSensor.Value       = 19.3 # Current temperature

    Device.IoTCapability.5.Class                   = &quot;LevelSensor&quot;
    Device.IoTCapability.5.Name                    = &quot;Valve Position&quot;
    Device.IoTCapability.5.LevelSensor.Type        = &quot;Position&quot;
    Device.IoTCapability.5.LevelSensor.Unit        = &quot;%&quot;
    Device.IoTCapability.5.LevelSensor.MinValue    = 0
    Device.IoTCapability.5.LevelSensor.MaxValue    = 100
    Device.IoTCapability.5.LevelSensor.Value       = 16     # e.g. 16% valve
                                                               # opening

    Device.IoTCapability.6.Class                   = &quot;LevelSensor&quot;
    Device.IoTCapability.6.Name                    = &quot;Local Battery&quot;
    Device.IoTCapability.6.LevelSensor.Type        = &quot;Battery&quot;
    Device.IoTCapability.6.LevelSensor.Unit        = &quot;%&quot;
    Device.IoTCapability.6.LevelSensor.MinValue    = 0
    Device.IoTCapability.6.LevelSensor.MaxValue    = 100
    Device.IoTCapability.6.LevelSensor.Value       = 82      # e.g. 82% battery load</code></pre>
    <div style="clear: both;"/>
    <footer class="site-footer">
<nav>
<p>
   <a href="00-index-contents.html#contents">Cover Page</a>
 | <a href="01-index-introduction.html#sec:introduction">1 Introduction</a>
 | <a href="02-index-architecture.html#sec:architecture">2 Architecture</a>
 | <a href="03-index-discovery.html#sec:discovery">3 Discovery and Advertisement</a>
 | <a href="04-index-mtp.html#sec:mtp">4 Message Transfer Protocols</a>
 | <a href="05-index-encoding.html#sec:encoding">5 Message Encoding</a>
 | <a href="06-index-e2e-message-exchange.html#sec:e2e-message-exchange">6 End to End Message Exchange</a>
 | <a href="07-index-messages.html#sec:messages">7 Messages</a>
 | <a href="08-index-auth.html#sec:auth">8 Authentication and Authorization</a>
 | <a href="09-index-bulk-data-collection.html#sec:bulk-data-collection">Annex A: Bulk Data Collection</a>
 | <a href="10-index-software-module-management.html#sec:software-module-management">Appendix I: Software Module Management</a>
 | <a href="11-index-firmware-management-of-devices-with-usp-agents.html#sec:firmware-management-of-devices-with-usp-agents">Appendix II: Firmware Management of Devices with USP Agents</a>
 | <a href="12-index-device-proxy.html#sec:device-proxy">Appendix III: Device Proxy</a>
 | <a href="13-index-proxying.html#sec:proxying">Appendix IV: Proxying</a>
 | <a href="14-index-iot-data-model-theory-of-operation.html#sec:iot-data-model-theory-of-operation">Appendix V: IoT Data Model Theory of Operation</a>
 | <a href="99-index-footnotes.html#footnotes">Footnotes</a>
</p>
</nav>

      <span class="site-footer-owner">
        USP is developed and maintained
        by <a href="https://www.broadband-forum.org">The Broadband Forum</a>.
        &copy; The Broadband Forum 2022</a>. All Rights Reserved.
      </span>
      <span class="site-footer-credits">
        This page was generated by <a href="https://pandoc.org">pandoc</a>
        and <a href="https://pages.github.com">GitHub Pages</a>.
        View the <a href="https://github.com/BroadbandForum/usp">specification source on GitHub</a>.
        <span class="release"/>
      </span>
    </footer>
  </section>
</body>
</html>
