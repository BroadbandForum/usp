@startuml

class "Physical Device" as DEVICE
class "Other Agents\nUPnP etc" as OTHER
class "USP\nAgent" as AGENT
class "USP\nController" as CONTROLLER
class "Service" as SERVICE
class "Wifi" as WIFI
class "Sensor" as SENSOR
class "Interface" as INTF
class "VoiceService" as VOICE
class "Actuator" as ACTUATOR
class "USP\nAgent" as AGENT
class "USP\nController" as CONTROLLER
class "Execution\nEnvironment" as EE {

	+reboot()
	+upgrade()	
}

DEVICE o--> "1\nroot" EE
DEVICE o--> "*\nother" EE
EE o-up-> "*\nvirtual" DEVICE
EE "root" o--> "1\nlocal" AGENT
EE o--> "*" OTHER
EE "*\nchild" --> "1\nparent" EE
EE o--> "*\nvirtual" AGENT
AGENT "local" o--> "*" CONTROLLER
EE "root" o--> "*\nlocalintf" INTF
EE o--> "*\nvirtualintf" INTF
EE o--> "*" SERVICE
WIFI -up-|> INTF
SENSOR -up-|> SERVICE
ACTUATOR -up-|> SERVICE
VOICE -up-|> SERVICE

hide empty fields
hide empty methods
@enduml
